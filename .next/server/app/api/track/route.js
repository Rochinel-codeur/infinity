"use strict";(()=>{var e={};e.id=234,e.ids=[234],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},69703:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>g,patchFetch:()=>h,requestAsyncStorage:()=>c,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>l});var a={};t.r(a),t.d(a,{POST:()=>d});var i=t(49303),s=t(88716),n=t(60670),o=t(87070),u=t(72331);async function d(e){try{let r=await e.json(),t=e.headers.get("user-agent")||"",a=e.headers.get("referer")||"",i=/mobile|android|iphone|ipad|tablet/i.test(t),s="unknown";t.includes("Chrome")?s="Chrome":t.includes("Firefox")?s="Firefox":t.includes("Safari")?s="Safari":t.includes("Edge")&&(s="Edge");let n=await u.Z.event.create({data:{type:r.type,source:a||r.source,device:i?"mobile":"desktop",browser:s,metadata:r.metadata?JSON.stringify(r.metadata):null,sessionId:r.sessionId}});return o.NextResponse.json({success:!0,eventId:n.id})}catch(e){return console.error("Event tracking error:",e),o.NextResponse.json({error:"Erreur serveur"},{status:500})}}let p=new i.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/track/route",pathname:"/api/track",filename:"route",bundlePath:"app/api/track/route"},resolvedPagePath:"/home/guigui2401/Documents/Dev/infinity/app/api/track/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:m}=p,g="/api/track/route";function h(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:l})}},72331:(e,r,t)=>{t.d(r,{Z:()=>i});var a=t(53524);let i=globalThis.prisma??new a.PrismaClient({log:["error"]})}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[948,972],()=>t(69703));module.exports=a})();